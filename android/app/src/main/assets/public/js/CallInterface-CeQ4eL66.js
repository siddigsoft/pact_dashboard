import{r,j as e,b0 as n,u as C,b1 as k,b2 as z,b3 as I,b4 as M}from"./react-core-B8kFjp2k.js";import{A as g,a as t}from"./index-PwDgWEVM.js";const p=({recipient:s,callType:a,duration:c=0,onAccept:j,onDecline:N,onEnd:i,minimized:v=!1})=>{const[x,u]=r.useState(c),[d,w]=r.useState(!1),[m,b]=r.useState(!0),f=l=>{const o=Math.floor(l/60),h=l%60;return`${o}:${h<10?"0":""}${h}`};return r.useEffect(()=>{let l;return a==="connected"&&(l=setInterval(()=>{u(o=>o+1)},1e3)),()=>{l&&clearInterval(l)}},[a]),r.useEffect(()=>{a!=="connected"&&u(c)},[a,c]),v?e.jsxs("div",{className:"fixed bottom-20 right-4 bg-primary text-white p-2 rounded-lg flex items-center gap-2 shadow-lg",children:[e.jsx(g,{className:"h-8 w-8",children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name}):e.jsx("div",{className:"bg-primary-foreground text-primary w-full h-full flex items-center justify-center font-medium",children:s.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium",children:s.name}),e.jsx("span",{className:"text-xs",children:f(x)})]}),e.jsx(t,{onClick:i,size:"icon",variant:"destructive",className:"h-6 w-6 ml-2",children:e.jsx(n,{className:"h-3 w-3"})})]}):e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 max-w-md w-full mx-auto",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"h-20 w-20 mx-auto mb-4",children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"rounded-full"}):e.jsx("div",{className:"bg-primary-foreground text-primary w-full h-full rounded-full flex items-center justify-center text-xl font-medium",children:s.name.charAt(0).toUpperCase()})}),e.jsx("h3",{className:"text-lg font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a==="incoming"&&"Incoming call...",a==="outgoing"&&"Calling...",a==="connected"&&f(x)]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-4 w-full",children:[a==="incoming"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"destructive",size:"lg",className:"rounded-full h-14 w-14",onClick:N,children:e.jsx(n,{className:"h-6 w-6"})}),e.jsx(t,{variant:"default",size:"lg",className:"rounded-full h-14 w-14 bg-green-500 hover:bg-green-600",onClick:j,children:e.jsx(C,{className:"h-6 w-6"})})]}),a==="outgoing"&&e.jsx(t,{variant:"destructive",size:"lg",className:"rounded-full h-14 w-14",onClick:i,children:e.jsx(n,{className:"h-6 w-6"})}),a==="connected"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"outline",size:"icon",className:`rounded-full h-12 w-12 ${d?"bg-red-100 dark:bg-red-900/30 text-red-500":""}`,onClick:()=>w(!d),children:d?e.jsx(k,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})}),e.jsx(t,{variant:"destructive",size:"lg",className:"rounded-full h-14 w-14",onClick:i,children:e.jsx(n,{className:"h-6 w-6"})}),e.jsx(t,{variant:"outline",size:"icon",className:`rounded-full h-12 w-12 ${m?"bg-red-100 dark:bg-red-900/30 text-red-500":""}`,onClick:()=>b(!m),children:m?e.jsx(I,{className:"h-5 w-5"}):e.jsx(M,{className:"h-5 w-5"})})]})]})]})})};export{p as C};
