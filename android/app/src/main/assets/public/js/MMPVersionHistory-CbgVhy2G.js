import{j as e,aL as l,l as m,am as x}from"./react-core-B8kFjp2k.js";import{B as i}from"./index-PwDgWEVM.js";import{o as h}from"./date-utils-YarVESQS.js";const g=({mmpFile:s,mmpId:o})=>{const d=r=>r?h(new Date(r),"MMM d, yyyy h:mm a"):"N/A",c=s.modificationHistory&&s.modificationHistory.length>0?s.modificationHistory:[{timestamp:s.uploadedAt,modifiedBy:s.uploadedBy,changes:"Initial upload",previousVersion:"N/A",newVersion:s.mmpId||o||`MMP-${s.id}`}],n=(()=>{var r,t;if(!s.version)return{major:"1",minor:"0"};if(typeof s.version=="string"){const a=s.version.split(".");return{major:a&&a.length>0&&a[0]||"1",minor:a&&a.length>1&&a[1]||"0"}}return typeof s.version=="object"&&s.version!==null?{major:((r=s.version.major)==null?void 0:r.toString())||"1",minor:((t=s.version.minor)==null?void 0:t.toString())||"0"}:{major:"1",minor:"0"}})();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Version History"}),e.jsxs(i,{variant:"outline",className:"px-2 py-1",children:["Current Version: v",n.major||"1",".",n.minor||"0"]})]}),e.jsx("div",{className:"relative pl-6 border-l border-gray-200 space-y-6",children:c.map((r,t)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[13px] mt-1.5",children:e.jsx("div",{className:`h-6 w-6 rounded-full flex items-center justify-center ${t===0?"bg-primary text-white":"border-2 border-primary bg-white"}`,children:t===0?e.jsx(l,{className:"h-3 w-3"}):e.jsx("span",{className:"text-xs font-medium text-primary",children:t+1})})}),e.jsx("div",{className:`bg-white p-4 rounded-md border ${t===0?"border-primary/30":"border-gray-200"}`,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h4",{className:"font-medium text-base",children:r.changes}),e.jsx(i,{variant:t===0?"default":"secondary",children:r.newVersion})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(m,{className:"h-3.5 w-3.5 mr-1.5"}),d(r.timestamp)]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(x,{className:"h-3.5 w-3.5 mr-1.5"}),r.modifiedBy]})]}),t>0&&e.jsxs("div",{className:"mt-2 bg-slate-50 p-2 rounded flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Previous version:"}),e.jsx(i,{variant:"outline",children:r.previousVersion})]})]})})]},t))})]})};export{g as M};
