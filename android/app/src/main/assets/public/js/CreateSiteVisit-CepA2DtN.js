import{j as e,N as m,I as h,Y as x}from"./react-core-B8kFjp2k.js";import{e as p,Z as u,C as t,f as r,g as a,h as n,b as c,a as i,r as o}from"./index-PwDgWEVM.js";import{bo as j}from"./vendor-VlxgVHMv.js";import"./docs-D2Yi4cpO.js";import"./react-dom-BLwj5vIO.js";import"./jspdf-rld7HkB6.js";import"./router-CKy9yO3R.js";import"./query-CJ0Bt4ph.js";import"./supabase-CwPDIVMD.js";import"./xlsx-CBxwqXDA.js";import"./date-utils-YarVESQS.js";import"./forms-CESK2FDA.js";import"./radix-ui-C2DV4xtt.js";import"./radix-dialogs-CnlmQBMC.js";import"./radix-menus-CPezQVZk.js";const R=()=>{const s=j(),{currentUser:v}=p(),{checkPermission:l,hasAnyRole:d}=u();return l("site_visits","create")||d(["admin"])?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"ghost",size:"sm",onClick:()=>s("/site-visits"),className:"mr-2",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Create Site Visit"}),e.jsx("p",{className:"text-muted-foreground",children:"Select creation method for new site visits"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"cursor-pointer hover:border-primary",onClick:()=>s("/site-visits/create/mmp"),children:[e.jsxs(r,{children:[e.jsxs(a,{className:"flex items-center",children:[e.jsx(h,{className:"h-5 w-5 mr-2"}),"From MMP"]}),e.jsx(n,{children:"Create site visits using data from approved MMP files"})]}),e.jsx(c,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this option to create site visits based on site entries in approved MMP files. This is the standard method for creating scheduled site visits."})}),e.jsx(o,{children:e.jsx(i,{variant:"outline",className:"w-full",children:"Select MMP"})})]}),e.jsxs(t,{className:"cursor-pointer hover:border-primary",onClick:()=>s("/site-visits/create/urgent"),children:[e.jsxs(r,{children:[e.jsxs(a,{className:"flex items-center",children:[e.jsx(x,{className:"h-5 w-5 mr-2 text-amber-500"}),"Urgent Visit"]}),e.jsx(n,{children:"Create a one-off urgent site visit without an MMP"})]}),e.jsx(c,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this option for urgent or unscheduled site visits that require immediate attention and are not part of an approved MMP file."})}),e.jsx(o,{children:e.jsx(i,{variant:"outline",className:"w-full",children:"Create Urgent Visit"})})]})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs(t,{className:"w-full max-w-md",children:[e.jsxs(r,{children:[e.jsx(a,{className:"text-destructive",children:"Access Denied"}),e.jsx(n,{children:"You don't have permission to access this page."})]}),e.jsx(c,{children:e.jsx(i,{variant:"outline",onClick:()=>s("/site-visits"),className:"w-full",children:"Return to Site Visits"})})]})})};export{R as default};
