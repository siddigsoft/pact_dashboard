import{j as s,ag as o,aV as m}from"./react-core-B8kFjp2k.js";import{U as u,C as h,f as j,g as N,b as f,a3 as p,B as d}from"./index-PwDgWEVM.js";import{a as g}from"./sudanStates-CkkbYUnU.js";import{bI as v}from"./vendor-VlxgVHMv.js";const I=({mmpFile:n,showVerificationButton:C,onUpdateMMP:M})=>{var i;const{id:c}=v(),{getMmpById:x}=u(),e=n||x(c||""),l=t=>t.status==="verified"?s.jsxs(d,{variant:"success",className:"flex items-center gap-1",children:["Verified ",s.jsx(o,{className:"h-3 w-3"})]}):t.status==="rejected"?s.jsxs(d,{variant:"destructive",className:"flex items-center gap-1",children:["Rejected ",s.jsx(m,{className:"h-3 w-3"})]}):s.jsx(d,{variant:"outline",children:"Pending"}),a=((i=e==null?void 0:e.siteEntries)==null?void 0:i.length)||0,r=(e==null?void 0:e.entries)||0;return Array.isArray(e==null?void 0:e.permits)&&e.permits.length,s.jsxs(h,{className:"col-span-2",children:[s.jsx(j,{children:s.jsx(N,{children:"Site Information"})}),s.jsxs(f,{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"MMP ID"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.mmpId)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.status)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Total Sites"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a>0?a:r||"N/A",a!==r&&a>0&&r>0&&s.jsxs("span",{className:"ml-2 text-amber-600 text-xs",children:["(Declared: ",r,")"]})]})]})]}),s.jsx(p,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.description)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Permits"}),Array.isArray(e==null?void 0:e.permits)&&e.permits.length>0?s.jsx("div",{className:"space-y-2",children:e.permits.map(t=>s.jsxs("div",{className:"border rounded p-2",children:[s.jsx("p",{className:"text-sm font-medium",children:t.fileName}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Type: ",t.permitType]}),t.state&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["State: ",g(t.state)]}),s.jsx("div",{className:"mt-1",children:l(t)})]},t.id))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No permits uploaded."})]}),!1]})]})};export{I as M};
