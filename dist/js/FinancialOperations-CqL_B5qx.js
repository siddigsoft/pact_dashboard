import{r as P,j as e,q,p as I,ag as V,o as E,aV as K,y as fe,l as Ne,a3 as we,C as ye,T as Ce,b9 as ke,K as pe,a0 as Ae,n as se,I as De,U as ae,W as te,a4 as ie,a1 as Q,aq as X}from"./react-core-B8kFjp2k.js";import{u as ge,an as ue,ap as je,am as Se,C as m,b as x,f as j,g as b,B as o,h as v,S as M,D as le,l as re,m as ne,n as de,o as ce,p as oe,a as c,H as W,e as Re,Z as Pe,R as Le,a8 as Te,T as $e,i as Fe,j as _,k as G}from"./index-PwDgWEVM.js";import{A as _e,b as Ge}from"./alert-BXWNuJnD.js";import{P as D}from"./progress-vMwTbqUI.js";import{C as Ie}from"./ClassificationBadge-CQcKQdLP.js";import{T as me}from"./textarea-BpQMf5eL.js";import{bo as be}from"./vendor-VlxgVHMv.js";import{o as Be}from"./date-utils-YarVESQS.js";import"./docs-D2Yi4cpO.js";import"./react-dom-BLwj5vIO.js";import"./jspdf-rld7HkB6.js";import"./router-CKy9yO3R.js";import"./query-CJ0Bt4ph.js";import"./supabase-CwPDIVMD.js";import"./xlsx-CBxwqXDA.js";import"./forms-CESK2FDA.js";import"./radix-ui-C2DV4xtt.js";import"./radix-dialogs-CnlmQBMC.js";import"./radix-menus-CPezQVZk.js";const xe=(i,n="SDG")=>{const l=i/100;return n==="SDG"?`SDG ${l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format(l)},Ue=({onNavigateToSubmission:i})=>{const n=be();ge();const{submissions:l,isLoading:C}=ue(),{approvals:k,isLoading:h}=je(),a=Se(),{mutate:w,isPending:p}=a.useReviewSubmission(),[d,g]=P.useState(null),[L,S]=P.useState(!1),[H,T]=P.useState(!1),[B,r]=P.useState(""),[f,y]=P.useState(""),R=k||[],N=(l==null?void 0:l.filter(s=>s.status==="approved"))||[],$=(l==null?void 0:l.filter(s=>s.status==="paid"))||[],F=(l==null?void 0:l.filter(s=>s.status==="rejected"))||[],J=async()=>{if(!(!d||p))try{await w({submissionId:d.id,action:"approve",approvalNotes:B}),S(!1),r(""),g(null)}catch{}},U=async()=>{if(!(!d||!f.trim()||p))try{await w({submissionId:d.id,action:"reject",reviewerNotes:f}),T(!1),y(""),g(null)}catch{}},A=({submission:s})=>{const t={pending:{icon:q,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950",label:"Pending"},approved:{icon:V,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950",label:"Approved"},paid:{icon:E,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950",label:"Paid"},rejected:{icon:K,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950",label:"Rejected"}},u=t[s.status]||t.pending,ve=u.icon,Y="submitterName"in s,Z=Y?s.submitterName:void 0,ee=Y?s.siteName:void 0;return e.jsx(m,{className:"hover-elevate active-elevate-2",children:e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs(o,{className:`${u.bgColor} ${u.color} border-0`,children:[e.jsx(ve,{className:"h-3 w-3 mr-1"}),u.label]}),s.classificationLevel&&e.jsx(Ie,{level:s.classificationLevel,size:"sm",showTooltip:!1})]}),e.jsxs("p",{className:"text-sm font-medium truncate",children:["Submission #",s.id.slice(0,8)]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-lg font-bold",children:xe(s.totalCostCents||0,s.currency??"SDG")})})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground mb-3",children:[Z&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:Z})]}),s.submittedAt&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"h-3 w-3"}),e.jsx("span",{children:Be(new Date(s.submittedAt),"MMM d, yyyy")})]}),ee&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:ee})]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(c,{size:"sm",variant:"default",className:"flex-1",onClick:()=>{g(s),S(!0)},"data-testid":`button-approve-${s.id}`,children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Approve"]}),e.jsxs(c,{size:"sm",variant:"destructive",className:"flex-1",onClick:()=>{g(s),T(!0)},"data-testid":`button-reject-${s.id}`,children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"Reject"]})]}),s.status==="approved"&&e.jsxs(c,{size:"sm",variant:"outline",className:"w-full mt-3",onClick:()=>n(`/cost-submission/${s.id}`),"data-testid":`button-review-payment-${s.id}`,children:[e.jsx(E,{className:"h-3 w-3 mr-1"}),"Review Payment"]}),e.jsxs(c,{size:"sm",variant:"ghost",className:"w-full mt-2",onClick:()=>{i?i(s.id):n(`/cost-submission/${s.id}`)},"data-testid":`button-view-details-${s.id}`,children:["View Details",e.jsx(ye,{className:"h-3 w-3 ml-1"})]})]})})};return C||h?e.jsx(m,{children:e.jsx(x,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading workflow data..."})]})})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs(m,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-orange-600"}),"Pending Review"]}),e.jsx(o,{className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:R.length})]}),e.jsx(v,{className:"text-xs",children:"Awaiting approval"})]}),e.jsx(x,{className:"pb-3",children:e.jsx(M,{className:"h-[400px]",children:e.jsx("div",{className:"space-y-2 pr-4",children:R.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"No pending submissions"})]}):R.map(s=>e.jsx(A,{submission:s},s.id))})})})]}),e.jsxs(m,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-green-600"}),"Approved"]}),e.jsx(o,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:N.length})]}),e.jsx(v,{className:"text-xs",children:"Ready for payment"})]}),e.jsx(x,{className:"pb-3",children:e.jsx(M,{className:"h-[400px]",children:e.jsx("div",{className:"space-y-2 pr-4",children:N.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"No approved submissions"})]}):N.map(s=>e.jsx(A,{submission:s},s.id))})})})]}),e.jsxs(m,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-blue-600"}),"Paid"]}),e.jsx(o,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:$.length})]}),e.jsx(v,{className:"text-xs",children:"Payment completed"})]}),e.jsx(x,{className:"pb-3",children:e.jsx(M,{className:"h-[400px]",children:e.jsx("div",{className:"space-y-2 pr-4",children:$.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"No paid submissions"})]}):$.map(s=>e.jsx(A,{submission:s},s.id))})})})]}),e.jsxs(m,{children:[e.jsxs(j,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(b,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-red-600"}),"Rejected"]}),e.jsx(o,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:F.length})]}),e.jsx(v,{className:"text-xs",children:"Declined submissions"})]}),e.jsx(x,{className:"pb-3",children:e.jsx(M,{className:"h-[400px]",children:e.jsx("div",{className:"space-y-2 pr-4",children:F.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"No rejected submissions"})]}):F.map(s=>e.jsx(A,{submission:s},s.id))})})})]})]}),e.jsx(le,{open:L,onOpenChange:S,children:e.jsxs(re,{children:[e.jsxs(ne,{children:[e.jsx(de,{children:"Approve Cost Submission"}),e.jsxs(ce,{children:["Approve submission #",d==null?void 0:d.id.slice(0,8)," for"," ",d&&xe(d.totalCostCents||0,d.currency??"SDG")]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Approval Notes (Optional)"}),e.jsx(me,{placeholder:"Add any notes about this approval...",value:B,onChange:s=>r(s.target.value),rows:3,"data-testid":"textarea-approval-notes"})]})}),e.jsxs(oe,{children:[e.jsx(c,{variant:"outline",onClick:()=>{S(!1),r("")},disabled:p,"data-testid":"button-cancel-approve",children:"Cancel"}),e.jsx(c,{onClick:J,disabled:p,"data-testid":"button-confirm-approve",children:p?"Approving...":"Approve Submission"})]})]})}),e.jsx(le,{open:H,onOpenChange:T,children:e.jsxs(re,{children:[e.jsxs(ne,{children:[e.jsx(de,{children:"Reject Cost Submission"}),e.jsxs(ce,{children:["Reject submission #",d==null?void 0:d.id.slice(0,8),". Please provide a reason for rejection."]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rejection Reason *"}),e.jsx(me,{placeholder:"Explain why this submission is being rejected...",value:f,onChange:s=>y(s.target.value),rows:3,required:!0,"data-testid":"textarea-rejection-reason"})]})}),e.jsxs(oe,{children:[e.jsx(c,{variant:"outline",onClick:()=>{T(!1),y("")},disabled:p,"data-testid":"button-cancel-reject",children:"Cancel"}),e.jsx(c,{variant:"destructive",onClick:U,disabled:p||!f.trim(),"data-testid":"button-confirm-reject",children:p?"Rejecting...":"Reject Submission"})]})]})})]})};function O({title:i,value:n,subtitle:l,icon:C,gradient:k,onClick:h,trend:a,className:w,testId:p}){const d=!!h;return e.jsxs(m,{className:W("overflow-hidden relative border-0 text-white transition-all duration-300",k,d&&"hover-elevate active-elevate-2 cursor-pointer",w),onClick:h,"data-testid":p,children:[e.jsxs(j,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsx(b,{className:"text-sm font-medium text-white/90",children:i}),e.jsx(C,{className:"h-5 w-5 text-white/80"})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:n}),l&&e.jsx("p",{className:"text-xs text-white/80 mt-1",children:l}),a&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[a.value>0?e.jsx(Ce,{className:"h-3 w-3 text-white/90"}):e.jsx(ke,{className:"h-3 w-3 text-white/90"}),e.jsxs("span",{className:"text-xs text-white/90 font-medium",children:[Math.abs(a.value),"% ",a.label]})]})]}),e.jsx(pe,{className:"absolute -right-4 -bottom-4 h-24 w-24 text-white/10"})]})}const z={blue:"bg-gradient-to-br from-blue-500 to-blue-700",green:"bg-gradient-to-br from-green-500 to-emerald-700",purple:"bg-gradient-to-br from-purple-500 to-purple-700",red:"bg-gradient-to-br from-red-500 to-red-700"};function Me({message:i="Loading...",variant:n="gradient",size:l="md",showIcon:C=!0,className:k}){const h={sm:"text-xs py-1 px-2",md:"text-sm py-1.5 px-3",lg:"text-base py-2 px-4"},a={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},w={default:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200 border-blue-200 dark:border-blue-700",gradient:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white border-0 shadow-lg shadow-blue-500/30 dark:shadow-purple-500/30",pulse:"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white border-0 animate-pulse shadow-lg shadow-emerald-500/40",minimal:"bg-muted text-muted-foreground border-muted"};return e.jsxs(o,{className:W("inline-flex items-center gap-2 font-medium transition-all duration-300",h[l],w[n],n==="gradient"&&"animate-shimmer bg-[length:200%_100%]",k),"data-testid":"loading-badge",children:[C&&(n==="gradient"||n==="pulse"?e.jsx(pe,{className:W(a[l],"animate-spin")}):e.jsx(Ae,{className:W(a[l],"animate-spin")})),e.jsx("span",{className:"animate-pulse",children:i})]})}function Oe({message:i="Loading page..."}){return e.jsx("div",{className:"flex items-center justify-center min-h-screen","data-testid":"page-loader",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20 animate-[spin_3s_linear_infinite]"}),e.jsx("div",{className:"absolute inset-[6px] rounded-full border-4 border-t-primary animate-[spin_2s_linear_infinite]"}),e.jsx("div",{className:"absolute inset-3 rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-40 blur-md animate-pulse"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg font-semibold text-foreground animate-pulse",children:i}),e.jsx(Me,{message:"Fetching data",variant:"gradient",size:"md"})]})]})})}const he=(i,n="SDG")=>new Intl.NumberFormat("en-US",{style:"currency",currency:n==="SDG"?"USD":n,minimumFractionDigits:2,maximumFractionDigits:2}).format(i).replace("$",n==="SDG"?"SDG ":"$"),ns=()=>{const i=be(),{toast:n}=ge(),{currentUser:l}=Re(),{canManageFinances:C}=Pe(),[k,h]=P.useState("overview"),{submissions:a,isLoading:w}=ue(),{approvals:p,isLoading:d}=je(),{userClassifications:g,feeStructures:L,loading:S}=Le(),{loading:H}=Te();if(!C())return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs(_e,{variant:"destructive",children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx(Ge,{children:"Access Denied: You do not have permission to view Financial Operations. This page is restricted to administrators and financial admins."})]})});const B=w||d||S||H,r=(a==null?void 0:a.length)||0,f=(a==null?void 0:a.filter(t=>t.status==="pending").length)||0,y=(a==null?void 0:a.filter(t=>t.status==="approved").length)||0,R=(a==null?void 0:a.filter(t=>t.status==="rejected").length)||0,N=(a==null?void 0:a.filter(t=>t.status==="paid").length)||0,$=(a==null?void 0:a.filter(t=>t.status==="pending").reduce((t,u)=>t+(u.totalCostCents||0),0))||0;a!=null&&a.filter(t=>t.status==="approved").reduce((t,u)=>t+(u.totalCostCents||0),0);const F=(a==null?void 0:a.filter(t=>t.status==="paid").reduce((t,u)=>t+(u.paidAmountCents||u.totalCostCents||0),0))||0,J=r>0?Math.round(y/r*100):0,U=(a==null?void 0:a.filter(t=>t.classificationLevel==="A").length)||0,A=(a==null?void 0:a.filter(t=>t.classificationLevel==="B").length)||0,s=(a==null?void 0:a.filter(t=>t.classificationLevel==="C").length)||0;return B?e.jsx(Oe,{message:"Loading Financial Operations..."}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-purple-950 dark:from-slate-950 dark:via-blue-950 dark:to-purple-950 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[linear-gradient(to_right,#4f46e510_1px,transparent_1px),linear-gradient(to_bottom,#4f46e510_1px,transparent_1px)] bg-[size:4rem_4rem]"}),e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-blue-500 rounded-full blur-3xl animate-pulse opacity-20"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-96 h-96 bg-purple-500 rounded-full blur-3xl animate-pulse opacity-20 animation-delay-2000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-cyan-500 rounded-full blur-3xl animate-pulse opacity-20 animation-delay-4000"})]}),e.jsxs("div",{className:"container mx-auto p-6 space-y-6 relative z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl blur-xl opacity-50 animate-pulse"}),e.jsx("div",{className:"relative bg-gradient-to-r from-blue-600/90 via-purple-600/90 to-pink-600/90 backdrop-blur-xl rounded-2xl p-8 border border-white/20 shadow-2xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold text-white flex items-center gap-3 drop-shadow-lg",children:[e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30",children:e.jsx(E,{className:"h-8 w-8 text-white"})}),"Financial Operations",e.jsx(o,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 animate-pulse",children:"LIVE"})]}),e.jsx("p",{className:"text-white/90 mt-2 text-lg font-medium",children:"Unified dashboard for cost approvals, classifications, and payments"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(c,{variant:"outline",onClick:()=>i("/classifications"),"data-testid":"button-view-classifications",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Classifications"]}),e.jsxs(c,{variant:"outline",onClick:()=>i("/finance"),"data-testid":"button-view-finance",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Finance Details"]}),e.jsx(c,{onClick:()=>i("/cost-submission"),"data-testid":"button-new-submission",className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 hover:from-green-600 hover:to-emerald-700 shadow-lg shadow-green-500/50",children:"New Submission"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(O,{title:"Pending Approvals",value:f,subtitle:`${he($/100,"SDG")} total`,icon:q,gradient:z.blue,onClick:()=>h("workflow"),testId:"card-pending-approvals"}),e.jsx(O,{title:"Approved & Paid",value:y+N,subtitle:`${J}% approval rate`,icon:V,gradient:z.green,onClick:()=>h("workflow"),testId:"card-approved"}),e.jsx(O,{title:"Classified Users",value:(g==null?void 0:g.length)||0,subtitle:`${(L==null?void 0:L.length)||0} fee structures`,icon:ae,gradient:z.purple,onClick:()=>h("classifications"),testId:"card-classifications"}),e.jsx(O,{title:"Total Paid Out",value:N,subtitle:`${he(F/100,"SDG")} paid`,icon:te,gradient:z.red,onClick:()=>h("payments"),testId:"card-payments"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10 rounded-2xl blur-xl"}),e.jsxs($e,{value:k,onValueChange:h,className:"relative",children:[e.jsxs(Fe,{className:"grid w-full grid-cols-5 bg-gradient-to-r from-slate-800/90 to-slate-900/90 backdrop-blur-xl border border-white/10 p-2 h-auto gap-2",children:[e.jsx(_,{value:"overview","data-testid":"tab-overview",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-500 data-[state=active]:to-blue-600 data-[state=active]:text-white text-white/70 hover:text-white border-0",children:"Overview"}),e.jsx(_,{value:"workflow","data-testid":"tab-workflow",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white text-white/70 hover:text-white border-0",children:"Workflow"}),e.jsx(_,{value:"classifications","data-testid":"tab-classifications",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-600 data-[state=active]:text-white text-white/70 hover:text-white border-0",children:"Classifications"}),e.jsx(_,{value:"budget","data-testid":"tab-budget",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-500 data-[state=active]:to-rose-600 data-[state=active]:text-white text-white/70 hover:text-white border-0",children:"Budget"}),e.jsx(_,{value:"payments","data-testid":"tab-payments",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white text-white/70 hover:text-white border-0",children:"Payments"})]}),e.jsxs(G,{value:"overview",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{className:"bg-gradient-to-br from-slate-900/90 to-blue-900/90 backdrop-blur-xl border-blue-500/30 shadow-xl shadow-blue-500/20",children:[e.jsxs(j,{className:"border-b border-white/10 pb-4",children:[e.jsxs(b,{className:"text-white flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(ie,{className:"h-5 w-5 text-blue-400"})}),"Submission Workflow Status"]}),e.jsx(v,{className:"text-white/70",children:"Current state of cost submissions"})]}),e.jsxs(x,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),"Pending Review"]}),e.jsx(o,{className:"bg-gradient-to-r from-orange-500 to-amber-600 text-white border-0 font-bold",children:f})]}),e.jsx(D,{value:r>0?f/r*100:0,className:"h-3 bg-orange-950/50 [&>*]:bg-gradient-to-r [&>*]:from-orange-500 [&>*]:to-amber-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Approved"]}),e.jsx(o,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 font-bold",children:y})]}),e.jsx(D,{value:r>0?y/r*100:0,className:"h-3 bg-green-950/50 [&>*]:bg-gradient-to-r [&>*]:from-green-500 [&>*]:to-emerald-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Paid"]}),e.jsx(o,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white border-0 font-bold",children:N})]}),e.jsx(D,{value:r>0?N/r*100:0,className:"h-3 bg-blue-950/50 [&>*]:bg-gradient-to-r [&>*]:from-blue-500 [&>*]:to-cyan-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),"Rejected"]}),e.jsx(o,{className:"bg-gradient-to-r from-red-500 to-rose-600 text-white border-0 font-bold",children:R})]}),e.jsx(D,{value:r>0?R/r*100:0,className:"h-3 bg-red-950/50 [&>*]:bg-gradient-to-r [&>*]:from-red-500 [&>*]:to-rose-600"})]})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-slate-900/90 to-purple-900/90 backdrop-blur-xl border-purple-500/30 shadow-xl shadow-purple-500/20",children:[e.jsxs(j,{className:"border-b border-white/10 pb-4",children:[e.jsxs(b,{className:"text-white flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(ae,{className:"h-5 w-5 text-purple-400"})}),"Submissions by Classification"]}),e.jsx(v,{className:"text-white/70",children:"Cost distribution across levels"})]}),e.jsxs(x,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Level A (Senior)"]}),e.jsx(o,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white border-0 font-bold shadow-lg shadow-green-500/30",children:U})]}),e.jsx(D,{value:r>0?U/r*100:0,className:"h-3 bg-green-950/50 [&>*]:bg-gradient-to-r [&>*]:from-green-500 [&>*]:to-emerald-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Level B (Regular)"]}),e.jsx(o,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white border-0 font-bold shadow-lg shadow-blue-500/30",children:A})]}),e.jsx(D,{value:r>0?A/r*100:0,className:"h-3 bg-blue-950/50 [&>*]:bg-gradient-to-r [&>*]:from-blue-500 [&>*]:to-cyan-600"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-white/90 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),"Level C (Junior)"]}),e.jsx(o,{className:"bg-gradient-to-r from-orange-500 to-amber-600 text-white border-0 font-bold shadow-lg shadow-orange-500/30",children:s})]}),e.jsx(D,{value:r>0?s/r*100:0,className:"h-3 bg-orange-950/50 [&>*]:bg-gradient-to-r [&>*]:from-orange-500 [&>*]:to-amber-600"})]})]})]})]}),e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(b,{children:"Quick Actions"}),e.jsx(v,{children:"Navigate to detailed views"})]}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(c,{variant:"outline",className:"justify-start h-auto py-4",onClick:()=>i("/cost-approval"),"data-testid":"button-review-pending",children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(q,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold",children:"Review Pending"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[f," awaiting review"]})]}),e.jsx(Q,{className:"h-4 w-4"})]})}),e.jsx(c,{variant:"outline",className:"justify-start h-auto py-4",onClick:()=>i("/classifications"),"data-testid":"button-manage-classifications",children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold",children:"Manage Classifications"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[g==null?void 0:g.length," users"]})]}),e.jsx(Q,{className:"h-4 w-4"})]})}),e.jsx(c,{variant:"outline",className:"justify-start h-auto py-4",onClick:()=>i("/finance"),"data-testid":"button-view-payments",children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx(te,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold",children:"View Payments"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[N," transactions"]})]}),e.jsx(Q,{className:"h-4 w-4"})]})})]})})]})]}),e.jsx(G,{value:"workflow",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Cost Approval Workflow"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve cost submissions in the workflow pipeline"})]}),e.jsxs(c,{variant:"outline",onClick:()=>i("/cost-submission"),"data-testid":"button-new-submission-workflow",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"New Submission"]})]}),e.jsx(Ue,{onNavigateToSubmission:t=>{n({title:"Viewing Submission",description:`Opening details for submission ${t.slice(0,8)}...`})}})]})}),e.jsx(G,{value:"classifications",className:"space-y-4",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(b,{children:"Classification Impact on Costs"}),e.jsx(v,{children:"View full classifications page for detailed management"})]}),e.jsx(x,{children:e.jsxs(c,{onClick:()=>i("/classifications"),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"View Classifications Page"]})})]})}),e.jsx(G,{value:"budget",className:"space-y-4",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(b,{children:"Budget vs Actual Tracking"}),e.jsx(v,{children:"Project and MMP budget analysis"})]}),e.jsx(x,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ie,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Budget tracking dashboard coming soon"})]})})]})}),e.jsx(G,{value:"payments",className:"space-y-4",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(b,{children:"Payment Tracker"}),e.jsx(v,{children:"Wallet transactions and payout requests"})]}),e.jsx(x,{children:e.jsxs(c,{onClick:()=>i("/finance"),children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"View Payment Details"]})})]})})]})]})]})]})};export{ns as default};
