import{r as d,j as e,bK as D,Z as h,I as p,m as j,B as V,Y as o,l as E}from"./react-core-B8kFjp2k.js";import{u as P,a,C as t,f as i,g as l,b as r,B as u,T as F,i as M,j as g,k as v,h as N}from"./index-PwDgWEVM.js";import{e as f,A as B}from"./AuditLogViewer-BpgeBMsl.js";import{C as I}from"./ComplianceTracker-C7U1JwwF.js";import{S as w,a as b,b as y,c as T,d as s}from"./select-CXX5Q_V1.js";import{P as L,a as G,b as O}from"./popover-BSK_FA51.js";import"./vendor-VlxgVHMv.js";import"./docs-D2Yi4cpO.js";import"./react-dom-BLwj5vIO.js";import"./date-utils-YarVESQS.js";import"./jspdf-rld7HkB6.js";import"./router-CKy9yO3R.js";import"./query-CJ0Bt4ph.js";import"./supabase-CwPDIVMD.js";import"./xlsx-CBxwqXDA.js";import"./forms-CESK2FDA.js";import"./radix-ui-C2DV4xtt.js";import"./radix-dialogs-CnlmQBMC.js";import"./radix-menus-CPezQVZk.js";import"./table-CZ8ZB6wW.js";import"./hover-card-BltHYp3k.js";import"./progress-vMwTbqUI.js";const de=()=>{const[C,A]=d.useState("audit-logs"),[m,S]=d.useState("all"),[x,k]=d.useState("all"),{toast:n}=P(),R=()=>{n({title:"Report Generation Started",description:"Your comprehensive audit and compliance report is being prepared."}),setTimeout(()=>{try{const c=[{timestamp:new Date().toISOString(),action:"Export",category:"Audit",description:"Comprehensive audit report generated",user:"Current User",userRole:"Admin",details:"Report includes all logs from selected time period",status:"success"}];f(c,`comprehensive-audit-report-${new Date().toISOString().split("T")[0]}.csv`),n({title:"Report Ready",description:"The report has been generated and downloaded to your device."})}catch{n({title:"Report Generation Failed",description:"There was an error generating the report. Please try again.",variant:"destructive"})}},2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Audit & Compliance"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive audit logs and compliance tracking"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{variant:"outline",onClick:R,children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),e.jsxs(a,{onClick:()=>{f([],`audit-data-export-${new Date().toISOString().split("T")[0]}.csv`),n({title:"Data Exported",description:"All audit data has been exported successfully."})},children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(t,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5 text-blue-600"}),"Audit Activity"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Today"}),e.jsx("span",{className:"font-medium",children:"24 events"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"This Week"}),e.jsx("span",{className:"font-medium",children:"142 events"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"This Month"}),e.jsx("span",{className:"font-medium",children:"516 events"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"Critical Events"}),e.jsx(u,{className:"bg-red-100 text-red-800",children:"5"})]})]})})]}),e.jsxs(t,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-green-600"}),"Compliance Status"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Overall Score"}),e.jsx("span",{className:"font-medium",children:"86%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Critical Issues"}),e.jsx("span",{className:"font-medium text-red-600",children:"2"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Warnings"}),e.jsx("span",{className:"font-medium text-amber-600",children:"7"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsx(u,{className:"bg-amber-100 text-amber-800",children:"Needs Attention"})]})]})})]}),e.jsxs(t,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs(l,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5 text-amber-600"}),"Recent Alerts"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"New compliance policy updated for budget validation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"Unauthorized MMP edit attempt detected"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"MMP file with validation warnings uploaded"})]}),e.jsx("div",{className:"pt-2 border-t text-right",children:e.jsx(a,{variant:"link",className:"h-auto p-0 text-xs",children:"View All Alerts"})})]})})]})]}),e.jsxs(F,{defaultValue:C,onValueChange:A,className:"w-full",children:[e.jsxs(M,{className:"grid grid-cols-2 mb-4",children:[e.jsxs(g,{value:"audit-logs",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Audit Logs"]}),e.jsxs(g,{value:"compliance",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Compliance"]})]}),e.jsx(v,{value:"audit-logs",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(i,{className:"pb-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{children:"Audit Log History"}),e.jsx(N,{children:"Track all user interactions and system events"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(L,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(a,{variant:"outline",size:"sm",className:"h-8 gap-1",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Time Range"})]})}),e.jsx(O,{className:"w-56 p-2",align:"end",children:e.jsx("div",{className:"grid gap-2",children:e.jsxs(w,{value:m,onValueChange:S,children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Select time range"})}),e.jsxs(T,{children:[e.jsx(s,{value:"today",children:"Today"}),e.jsx(s,{value:"yesterday",children:"Yesterday"}),e.jsx(s,{value:"week",children:"This Week"}),e.jsx(s,{value:"month",children:"This Month"}),e.jsx(s,{value:"all",children:"All Time"})]})]})})})]}),e.jsxs(w,{value:x,onValueChange:k,children:[e.jsx(b,{className:"h-8 w-[130px]",children:e.jsx(y,{placeholder:"Filter by action"})}),e.jsxs(T,{children:[e.jsx(s,{value:"all",children:"All Actions"}),e.jsx(s,{value:"view",children:"View"}),e.jsx(s,{value:"edit",children:"Edit"}),e.jsx(s,{value:"approve",children:"Approve"}),e.jsx(s,{value:"reject",children:"Reject"}),e.jsx(s,{value:"delete",children:"Delete"}),e.jsx(s,{value:"upload",children:"Upload"})]})]}),e.jsxs(a,{variant:"ghost",size:"sm",className:"h-8",children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})}),e.jsx(r,{children:e.jsx(B,{standalone:!0,actionFilter:x,timeFilter:m})})]})}),e.jsx(v,{value:"compliance",children:e.jsxs(t,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Compliance Tracking"}),e.jsx(N,{children:"Monitor compliance status and policy adherence"})]}),e.jsx(r,{children:e.jsx(I,{standalone:!0})})]})})]})]})};export{de as default};
